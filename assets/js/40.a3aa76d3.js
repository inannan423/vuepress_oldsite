(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{409:function(t,s,i){"use strict";i.r(s);var n=i(1),g=Object(n.a)({},(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h2",{attrs:{id:"准备"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),i("p",[t._v("本小程序基于"),i("a",{attrs:{href:"https://github.com/UxxHans/Rainbow-Cats-Personal-WeChat-MiniProgram",target:"_blank",rel:"noopener noreferrer"}},[t._v("UxxHans Rainbow Cats"),i("OutboundLink")],1),t._v("的项目进行二次开发，优化了UI，"),i("em",[t._v("突破20条数据获取限制，增加纪念日计时功能")]),t._v("，增加记事本功能，允许上传图片。下面将从最基础的地方开始，讲述如何部署这个微信小程序。")]),t._v(" "),i("h2",{attrs:{id:"特点"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),i("p",[t._v("1."),i("em",[t._v("免费")]),t._v("。从部署到上线不需要任何费用。除非你的数据库存储很多数据和图片，会付一点钱，但是免费额度已经足够。😁"),i("br"),t._v("\n2."),i("em",[t._v("快速")]),t._v("。你只需要克隆我的项目，在你的电脑上部署，"),i("em",[t._v("修改部分参数就可以上线，不到一小时就能使用")]),t._v("。"),i("br"),t._v("\n3."),i("em",[t._v("功能丰富")]),t._v("。突破了20条限制，让你不需要在乎发了多少条都能获取。增加记事本功能和倒计时功能，记录美好瞬间。"),i("br"),t._v("\n4."),i("em",[t._v("使用了云开发三大基础能力")]),t._v("。不需要自己配置服务器，高效便捷。使用云开发数据库对文档型数据库进行读写。在小程序前端直接上传/下载云端文件，在云开发控制台可视化管理。在云端运行的代码，微信私有协议天然鉴权，开发者只需编写业务逻辑代码。")]),t._v(" "),i("h2",{attrs:{id:"注册小程序并下载微信开发者工具"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#注册小程序并下载微信开发者工具"}},[t._v("#")]),t._v(" 注册小程序并下载微信开发者工具")]),t._v(" "),i("p",[t._v("进入"),i("a",{attrs:{href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信公众平台"),i("OutboundLink")],1),t._v(",点击“小程序”进入注册。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30ixlbx1vj31h60r1av6.jpg",alt:"1654647638272.png"}}),i("br"),t._v("\n填写一个尚未在公众平台注册过的邮箱，完成如下设置后，点击注册。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30iy6ykd8j31b40obwid.jpg",alt:"image.png"}}),i("br"),t._v("\n此时，腾讯会给你的这个邮箱发一条验证码，点击链接验证即可。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30izq1uw9j312f0hfq4n.jpg",alt:"image.png"}}),i("br"),t._v("\n填写主体信息，选择“个人”。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30j2ycznij30zm0lxadh.jpg",alt:"image.png"}}),i("br"),t._v("\n填写管理员信息，进行身份验证（很快！）"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30j3outvej30fq09j0te.jpg",alt:"image.png"}}),i("br"),t._v("\n您也可以"),i("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/67229997",target:"_blank",rel:"noopener noreferrer"}},[t._v("用已经存在的公众号注册小程序"),i("OutboundLink")],1),i("br"),t._v(" "),i("em",[t._v("完成注册后，进入管理界面。")]),t._v("\n点击设置，拉到最下边，获取AppID（重要）并记录下来。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30j7xbqs2j31hc0oaafy.jpg",alt:"1654648210458.png"}}),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30j8g0vtsj31eu0k2wgn.jpg",alt:"1654648266364.png"}}),i("br"),t._v("\n在基本设置中完善小程序信息，类别随意选择。")]),t._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[t._v("⚠")]),t._v(" "),i("p",[t._v("您不需要进行微信验证，这是花钱的。是商业性App需要的东西。")])]),t._v(" "),i("p",[t._v("进入"),i("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信开发工具下载界面"),i("OutboundLink")],1),t._v("下载微信开发工具。选择Stable版即可。"),i("br"),t._v(" "),i("em",[t._v("不出意外的话，您的电脑应该是64位")]),t._v("。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jc5twa5j31h50of14v.jpg",alt:"1654648479527.png"}})]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("🔔")]),t._v(" "),i("p",[t._v("建议不要安装在C盘。")])]),t._v(" "),i("p",[t._v("安装完成后，打开。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30je6f15rj30rh0kzafp.jpg",alt:"image.png"}}),i("br"),t._v("\n到这一步，你就不用管了，也不用新建，等会再说。")]),t._v(" "),i("h2",{attrs:{id:"克隆源代码"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#克隆源代码"}},[t._v("#")]),t._v(" 克隆源代码")]),t._v(" "),i("p",[t._v("到"),i("a",{attrs:{href:"https://github.com/inannan423/orange-nan-mini_program",target:"_blank",rel:"noopener noreferrer"}},[t._v("仓库地址"),i("OutboundLink")],1),t._v("，克隆源代码。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jj3vsn8j31go0nmdrh.jpg",alt:"1654648878085.png"}}),i("br"),t._v("\n你可以使用git工具进行克隆，我想会的一定不需要我来讲，那么我就说小白方法。"),i("br"),t._v("\n你只需要在“Code”下拉菜单中，选择Download ZIP，将压缩包下载下来，解压即可。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jmpmktzj313o0jd46w.jpg",alt:"1654649086792.png"}})]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("🔔")]),t._v(" "),i("p",[t._v("你可能需要ladder才能访问Github，如果你访问不了，可以给我发邮件：czhorange@foxmail.com或者加我的QQ：605031236,可以答疑解惑哦！")])]),t._v(" "),i("h2",{attrs:{id:"打开项目开通云开发"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#打开项目开通云开发"}},[t._v("#")]),t._v(" 打开项目开通云开发")]),t._v(" "),i("p",[t._v("点击微信开发者工具，选择导入项目，导入刚刚克隆的文件夹或者解压的文件夹。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jt4urjtj31510p1tmc.jpg",alt:"image.png"}}),i("br"),t._v("\n这里的AppID你需要修改成上面让你记录的AppID，默认的这个是我的，你用不了。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30ju5az7pj30je0i0go1.jpg",alt:"1654649515857.png"}}),i("br"),t._v("\n点击左上角“云开发”进入云开发管理界面。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jw55g68j31hc0pugxg.jpg",alt:"1654649631524.png"}}),i("br"),t._v("\n按照提示，新建一个云环境。"),i("br"),t._v("\n记录你的云环境ID。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30jxo52gbj31530oi79y.jpg",alt:"1654649718210.png"}}),i("br"),t._v('\n打开"Miniprogram/envlist.js"，将拷贝的云环境ID更换原有的envID。'),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30k23mu6uj312w0n7qdp.jpg",alt:"1654649976383.png"}}),i("br"),t._v("\n在cloudfunctions文件夹上右键选择环境。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30k3tzhocj30xv0abafy.jpg",alt:"image.png"}}),i("br"),t._v("\n然后在cloudfunctions文件夹下的文件上右键，上传并部署云函数。（cloudfunctions文件夹内所有文件夹都要上传依赖！）"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30k5mvqutj30ir0dtn23.jpg",alt:"image.png"}}),i("br"),t._v("\n可以到云开发控制台查看是否部署成功。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30k6i812sj315c0p0n58.jpg",alt:"1654650227912.png"}})]),t._v(" "),i("h2",{attrs:{id:"数据库部署"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#数据库部署"}},[t._v("#")]),t._v(" 数据库部署")]),t._v(" "),i("p",[t._v("在控制台数据库页，创建三个云开发数据库集合 'MarketList'， 'MissionList' ,'Txts','UserList'.\n"),i("strong",[t._v("在UserList集合里面创建两个数据，里面创建两个值")]),t._v("：_openid(string类), credit(number类)，credit设置为0 。（openid具体数据稍后再填）\n"),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kagitl4j31530nstjq.jpg",alt:"1654650456730.png"}})]),t._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[t._v("⚠ 重要步骤")]),t._v(" "),i("p",[t._v("选择云开发里数据库三个选项中的最后一个 "),i("em",[t._v("数据权限")]),t._v("，选择"),i("em",[t._v("自定义")]),t._v("，然后点击新窗口下面蓝色加亮文字，把所有用户读写权限设置为true。接下来重复此步骤把剩下三个数据集合的权限也设置好。"),i("em",[t._v("（没有设置会导致你们互相看不到彼此发的任务和商品，也无法赚积分）")])])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kcbpvo0j310z05ztb5.jpg",alt:"1654650566088.png"}}),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kcty4nfj314p0jsn3x.jpg",alt:"1654650593726.png"}}),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kdckbhaj30p8089di0.jpg",alt:"1654650625377.png"}}),i("br"),t._v(" "),i("strong",[t._v("注意，一定要把四个集合全部这样设置！")]),i("br"),t._v("\n在云开发数据库添加新的文件夹photo："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30lbgfebwj31590c7aed.jpg",alt:"1654652591306.png"}})]),t._v(" "),i("h2",{attrs:{id:"你需要替换的地方"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#你需要替换的地方"}},[t._v("#")]),t._v(" 你需要替换的地方")]),t._v(" "),i("p",[i("em",[t._v("app.json")]),t._v("修改里面的小程序名称："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kkrd9cwj311w0hyh01.jpg",alt:"1654651017397.png"}}),i("br"),t._v(" "),i("em",[t._v("about.wxml")]),t._v("里面修改开发者信息，把汉字替换掉就行："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30knhladbj310v0luk4z.jpg",alt:"image.png"}}),i("br"),t._v(" "),i("em",[t._v("Account/index.wxml")]),t._v("里面修改积分信息的前缀："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kok2bkaj310v0kpwuo.jpg",alt:"1654651261087.jpg"}}),i("br"),t._v(" "),i("em",[t._v("mainpage/index.wxml")]),t._v("里面修改欢迎名称："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kpv4fdnj310t0j5h2t.jpg",alt:"1654651331218.jpg"}}),t._v(" "),i("em",[t._v("mainpage/index.js")]),t._v("修改在一起的时间："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30krei4dvj31eg0j8gzp.jpg",alt:"1654651434765.png"}}),i("br"),t._v("\n一定要按照原来的格式修改时间。")]),t._v(" "),i("h3",{attrs:{id:"图片替换"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#图片替换"}},[t._v("#")]),t._v(" 图片替换")]),t._v(" "),i("p",[t._v("项目文件夹中的图片需要你替换："),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kut9w50j30w60cltc8.jpg",alt:"image.png"}}),i("br"),t._v("\n首先是home/a.jpg需要你换成你自己的名称的图片。")]),t._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[t._v("⚠")]),t._v(" "),i("p",[t._v("注意，你替换的图片必须与原图名称一模一样。")])]),t._v(" "),i("p",[t._v("然后是miniprogram\\images\\Mission中的标识你们的图片，可以替换成你想要的图。他会在帖子上显示表明是谁发的。南瓜是女生，橙子是男生。如图：")]),t._v(" "),i("details",{staticClass:"custom-block details"},[i("summary",[t._v("点击查看")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kz294pwj30520et0tc.jpg",alt:"1654651876441.png"}})])]),t._v(" "),i("h2",{attrs:{id:"创建体验版小程序"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#创建体验版小程序"}},[t._v("#")]),t._v(" 创建体验版小程序")]),t._v(" "),i("p",[t._v("在左边的预览器中测试功能是否正常。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kg68vhuj31d20f111k.jpg",alt:"1654650785697.png"}}),i("br"),t._v("\n进入"),i("a",{attrs:{href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信公众平台"),i("OutboundLink")],1),t._v("将刚刚上传的小程序版本号改为体验版。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30kieg43xj314c09x3zs.jpg",alt:"image.png"}}),i("br"),t._v("\n你不需要上传审核，只要设为体验版即可。"),i("br"),t._v("\n将小程序分享到女朋友手机上。"),i("br"),t._v(" "),i("em",[t._v("在两个手机上运行小程序，分别在两个手机上的小程序里新建任务")]),t._v("，然后到missionlist数据库集合去找自己和女朋友的_openid变量。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30l3rhv7xj30yr0cj44d.jpg",alt:"1654652145363.png"}}),i("br"),t._v("\n你发的那个openid就是你的id号，女朋友发的openid就是她的id号。"),i("br"),t._v("\n把这两个openid拷贝到UserList数据集合里刚刚创建的的_openid变量中 同时也要把他们拷到app.js文件里的kirbyOpenId和deeOpenId的值里。"),i("br"),t._v(" "),i("img",{attrs:{src:"https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h30l5zsfydj31ej0f64d3.jpg",alt:"1654652276301.png"}}),i("br"),t._v("\n然后再试试看是不是成功了！（右滑任务或商品可以删除或者星标哦）"),i("br"),t._v("\n然后改好了再在右上角上传，这次在这里上传了就好了，一会手机上就会更新了，你不需要审核，体验版足矣。")]),t._v(" "),i("h2",{attrs:{id:"后记"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#后记"}},[t._v("#")]),t._v(" 后记")]),t._v(" "),i("p",[t._v("如有疑问可以留言哦！如果你觉得有用请在github给我一个"),i("strong",[t._v("star")]),t._v("！")])])}),[],!1,null,null,null);s.default=g.exports}}]);