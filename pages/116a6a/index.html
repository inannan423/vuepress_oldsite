<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据链路层-以太网 | JetZihan</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.jpg">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="czh的个人学习文档">
    <meta name="Cheng" content="chengs blog">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.f6a70fa5.css" as="style"><link rel="preload" href="/assets/js/app.5066a133.js" as="script"><link rel="preload" href="/assets/js/2.ae42d6f2.js" as="script"><link rel="preload" href="/assets/js/62.1b5ae952.js" as="script"><link rel="preload" href="/assets/js/10.eb81c37d.js" as="script"><link rel="prefetch" href="/assets/js/11.374b8b0c.js"><link rel="prefetch" href="/assets/js/12.1cbe13e4.js"><link rel="prefetch" href="/assets/js/13.18ea857b.js"><link rel="prefetch" href="/assets/js/14.3a91e5e8.js"><link rel="prefetch" href="/assets/js/15.d881ca26.js"><link rel="prefetch" href="/assets/js/16.b53af45c.js"><link rel="prefetch" href="/assets/js/17.935fe5e2.js"><link rel="prefetch" href="/assets/js/18.34be8f8a.js"><link rel="prefetch" href="/assets/js/19.0c368c1f.js"><link rel="prefetch" href="/assets/js/20.0331c8de.js"><link rel="prefetch" href="/assets/js/21.10cc1f43.js"><link rel="prefetch" href="/assets/js/22.1d8bb932.js"><link rel="prefetch" href="/assets/js/23.ed527eda.js"><link rel="prefetch" href="/assets/js/24.a25dd448.js"><link rel="prefetch" href="/assets/js/25.256f02d3.js"><link rel="prefetch" href="/assets/js/26.40ba99b4.js"><link rel="prefetch" href="/assets/js/27.ad6969ad.js"><link rel="prefetch" href="/assets/js/28.bedaddcf.js"><link rel="prefetch" href="/assets/js/29.3eb9d749.js"><link rel="prefetch" href="/assets/js/3.31501994.js"><link rel="prefetch" href="/assets/js/30.d59316ec.js"><link rel="prefetch" href="/assets/js/31.464af5e4.js"><link rel="prefetch" href="/assets/js/32.82f954ff.js"><link rel="prefetch" href="/assets/js/33.9cd5d2ae.js"><link rel="prefetch" href="/assets/js/34.4c11c978.js"><link rel="prefetch" href="/assets/js/35.956f97df.js"><link rel="prefetch" href="/assets/js/36.8a10bea4.js"><link rel="prefetch" href="/assets/js/37.0e7c47ab.js"><link rel="prefetch" href="/assets/js/38.5689405b.js"><link rel="prefetch" href="/assets/js/39.ad005409.js"><link rel="prefetch" href="/assets/js/4.0babbda4.js"><link rel="prefetch" href="/assets/js/40.542d197a.js"><link rel="prefetch" href="/assets/js/41.d1927791.js"><link rel="prefetch" href="/assets/js/42.f382404e.js"><link rel="prefetch" href="/assets/js/43.bcddd155.js"><link rel="prefetch" href="/assets/js/44.e707eaaa.js"><link rel="prefetch" href="/assets/js/45.20879e84.js"><link rel="prefetch" href="/assets/js/46.02673d11.js"><link rel="prefetch" href="/assets/js/47.3968540e.js"><link rel="prefetch" href="/assets/js/48.5134a543.js"><link rel="prefetch" href="/assets/js/49.c31082d8.js"><link rel="prefetch" href="/assets/js/5.81f3e40e.js"><link rel="prefetch" href="/assets/js/50.416654ad.js"><link rel="prefetch" href="/assets/js/51.8dd030c3.js"><link rel="prefetch" href="/assets/js/52.699da312.js"><link rel="prefetch" href="/assets/js/53.d6b2aa82.js"><link rel="prefetch" href="/assets/js/54.25bd7446.js"><link rel="prefetch" href="/assets/js/55.7328e80e.js"><link rel="prefetch" href="/assets/js/56.533429c0.js"><link rel="prefetch" href="/assets/js/57.ee541292.js"><link rel="prefetch" href="/assets/js/58.351db8e3.js"><link rel="prefetch" href="/assets/js/59.6a8a4b51.js"><link rel="prefetch" href="/assets/js/6.615866e5.js"><link rel="prefetch" href="/assets/js/60.92c5ecdd.js"><link rel="prefetch" href="/assets/js/61.85ea6254.js"><link rel="prefetch" href="/assets/js/63.b4ec1189.js"><link rel="prefetch" href="/assets/js/64.7cc52d33.js"><link rel="prefetch" href="/assets/js/65.bc549590.js"><link rel="prefetch" href="/assets/js/66.91657d50.js"><link rel="prefetch" href="/assets/js/67.c405dc05.js"><link rel="prefetch" href="/assets/js/7.699799fd.js"><link rel="prefetch" href="/assets/js/8.d5b4f0f9.js"><link rel="prefetch" href="/assets/js/9.1d701629.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f6a70fa5.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="JetZihan" class="logo"> <span class="site-name can-hide">JetZihan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/web/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/front/" class="nav-link">Front-End</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><a href="/archives/" class="link-title">Menu</a> <span class="title" style="display:none;">Menu</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Links" class="dropdown-title"><!----> <span class="title" style="display:;">Links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Leetcode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/js/index.asp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3cschool.cn/css3/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSS3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/python/index.asp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zq99299.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://markdown.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3cschool.cn/mysql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySql
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docusaurus.io/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docusaurus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WxMiniProgram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Node.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://krpano.milly.me/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Krpano
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.bjfuacm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BJFUoj
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/inannan423/inannan423.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/web/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/front/" class="nav-link">Front-End</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><a href="/archives/" class="link-title">Menu</a> <span class="title" style="display:none;">Menu</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Links" class="dropdown-title"><!----> <span class="title" style="display:;">Links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Leetcode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/js/index.asp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3cschool.cn/css3/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSS3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/python/index.asp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zq99299.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://markdown.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3cschool.cn/mysql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySql
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docusaurus.io/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docusaurus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WxMiniProgram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Node.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://krpano.milly.me/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Krpano
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.bjfuacm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BJFUoj
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/inannan423/inannan423.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>随想随写</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数字媒体技术基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a60a41/" class="sidebar-link">TCP/IP分层图</a></li><li><a href="/pages/a60a43/" class="sidebar-link">中英文概念</a></li><li><a href="/pages/04c345/" class="sidebar-link">网络分类和分层架构</a></li><li><a href="/pages/98f79b/" class="sidebar-link">基础知识</a></li><li><a href="/pages/88e6c9/" class="sidebar-link">应用层</a></li><li><a href="/pages/b7b82d/" class="sidebar-link">应用层-DNS</a></li><li><a href="/pages/498bc0/" class="sidebar-link">运输层</a></li><li><a href="/pages/b0fced/" class="sidebar-link">运输层-可靠数据传输(rdt)</a></li><li><a href="/pages/39f7b8/" class="sidebar-link">运输层-TCP连接建立过程</a></li><li><a href="/pages/116a3a/" class="sidebar-link">网络层</a></li><li><a href="/pages/116a6a/" aria-current="page" class="active sidebar-link">数据链路层-以太网</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/116a6a/#一、链路层概述" class="sidebar-link">一、链路层概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_1-1-链路层是如何与网络层关联的" class="sidebar-link">1.1 链路层是如何与网络层关联的</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_1-2-链路层提供的服务" class="sidebar-link">1.2 链路层提供的服务</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_1-3-链路层在何处实现" class="sidebar-link">1.3 链路层在何处实现</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/116a6a/#二、差错检验和纠正技术" class="sidebar-link">二、差错检验和纠正技术</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_2-1-奇偶校验" class="sidebar-link">2.1 奇偶校验</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_2-2-二维奇偶校验" class="sidebar-link">2.2 二维奇偶校验</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_2-3-循环冗余校验" class="sidebar-link">2.3 循环冗余校验</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/116a6a/#三、多路访问和链路协议" class="sidebar-link">三、多路访问和链路协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_3-1-信道划分协议" class="sidebar-link">3.1 信道划分协议</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#tdm时分复用" class="sidebar-link">TDM时分复用</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#fdm频分复用" class="sidebar-link">FDM频分复用</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#cdma-码分多址" class="sidebar-link">CDMA，码分多址</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_3-2-随机接入协议" class="sidebar-link">3.2 随机接入协议</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_3-2-1时隙aloha" class="sidebar-link">3.2.1时隙Aloha</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_3-2-3-纯aloha" class="sidebar-link">3.2.3 纯Aloha</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_3-2-4-带有碰撞检测的载波侦听多路访问-csma-cd" class="sidebar-link">3.2.4 带有碰撞检测的载波侦听多路访问（CSMA/CD）</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_3-3-轮流协议" class="sidebar-link">3.3 轮流协议</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/116a6a/#四、交换局域网" class="sidebar-link">四、交换局域网</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_4-1-链路层寻址和arp-地址解析协议" class="sidebar-link">4.1 链路层寻址和ARP（地址解析协议）</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_4-1-1-mac地址" class="sidebar-link">4.1.1 MAC地址</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_4-1-2-地址解析协议" class="sidebar-link">4.1.2 地址解析协议</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_4-1-3-发送数据报到子网之外" class="sidebar-link">4.1.3 发送数据报到子网之外</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_4-2-以太网" class="sidebar-link">4.2 以太网</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_4-3-链路层交换机" class="sidebar-link">4.3 链路层交换机</a></li><li class="sidebar-sub-header level4"><a href="/pages/116a6a/#_4-3-1-交换机转发和过滤" class="sidebar-link">4.3.1 交换机转发和过滤</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/116a6a/#五、wifi" class="sidebar-link">五、WIFI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_5-1-频段、信道、带宽" class="sidebar-link">5.1 频段、信道、带宽</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_5-2-ieee-802-11常见的技术标准" class="sidebar-link">5.2 IEEE 802.11常见的技术标准</a></li><li class="sidebar-sub-header level3"><a href="/pages/116a6a/#_5-3-csma-ca碰撞避免" class="sidebar-link">5.3 CSMA/CA碰撞避免</a></li></ul></li></ul></li><li><a href="/pages/116k6a/" class="sidebar-link">物理层</a></li><li><a href="/pages/1q6k6r/" class="sidebar-link">习题</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3" title="分类" data-v-06225672>技术文档</a></li><li data-v-06225672><a href="/categories/?category=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" title="分类" data-v-06225672>计算机网络</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/inannan423/inannan423.github.io" target="_blank" title="作者" class="beLink" data-v-06225672>Chengzihan</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><!---->数据链路层-以太网<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="一、链路层概述"><a href="#一、链路层概述" class="header-anchor">#</a> 一、链路层概述</h2> <h3 id="_1-1-链路层是如何与网络层关联的"><a href="#_1-1-链路层是如何与网络层关联的" class="header-anchor">#</a> 1.1 链路层是如何与网络层关联的</h3> <blockquote><p>某旅行社指定旅游方案，目标是从北京市海淀区学院路的某大学到绍兴市鲁迅故里。那么旅行社首先决定使用地铁将游客运动到首都国际机场，然后乘坐飞机运送到杭州萧山国际机场，然后在萧山机场乘坐大巴到达杭州市滨江区，从滨江区搭乘杭绍地铁到达柯桥大阪湖，最后通过乌篷船到达鲁迅故里。</p></blockquote> <p>将游客比作网络层数据报。将每个运输区段（地铁、飞机、大巴）比作一条链路。那么选择道路的旅行社就是一个路由协议。</p> <h3 id="_1-2-链路层提供的服务"><a href="#_1-2-链路层提供的服务" class="header-anchor">#</a> 1.2 链路层提供的服务</h3> <ol><li>成帧（framing），将数据包用帧封装起来。</li> <li>链路接入。<em>媒体访问控制</em>（Media Access Control，MAC）。协调多个节点的帧传输。</li> <li>可靠交付。提供差错检验和纠正。</li></ol> <h3 id="_1-3-链路层在何处实现"><a href="#_1-3-链路层在何处实现" class="header-anchor">#</a> 1.3 链路层在何处实现</h3> <p>链路层主要是在网络适配器中实现（network adapter）。网络适配器又是又称网卡（Network Interface Card，NIC）。</p> <h2 id="二、差错检验和纠正技术"><a href="#二、差错检验和纠正技术" class="header-anchor">#</a> 二、差错检验和纠正技术</h2> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b73vvjm0j30h40adju1.jpg" alt="image.png"></p> <h3 id="_2-1-奇偶校验"><a href="#_2-1-奇偶校验" class="header-anchor">#</a> 2.1 奇偶校验</h3> <p>增加一个奇偶校验位。</p> <blockquote><p>奇校验。增加一个校验位，使整个数据的1的数量为奇数。<br>
偶校验。增加一个校验位，使整个数据的1的数量为偶数。</p></blockquote> <p>但是这种普通的奇偶校验只能检验出现奇数个或者偶数个错误的情况，未检测出差错的概率为50%。</p> <h3 id="_2-2-二维奇偶校验"><a href="#_2-2-二维奇偶校验" class="header-anchor">#</a> 2.2 二维奇偶校验</h3> <p>数据D中的d个bit被划分为i行j列，对于每行、每列计算奇偶值，产生的i + j + 1奇偶比特构成了链路层帧的差错检测比特。<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b79d43rrj30fi0hyn0n.jpg" alt="image.png"><br>
上图中能够通过行列的联动奇偶性检测出错误的比特位。</p> <h3 id="_2-3-循环冗余校验"><a href="#_2-3-循环冗余校验" class="header-anchor">#</a> 2.3 循环冗余校验</h3> <p>原理：</p> <blockquote><ol><li>在发送端，先把数据划分为组（即：一帧）。假定每组 k 个比特。</li> <li>在每组后面，添加供差错检测用的 n 位冗余码一起发送。即：实际发送长度为：k+n 比特。</li> <li>发送前双方协商n+1位的除数P，方便接收方收到后校验。</li> <li>给K比特的数据添加除数减一个0（P-1）作为被除数，与第三步确定的除数做“模2除法”。得出的余数即FCS校验序列，它的位数也必须是（P-1）。</li> <li>将FCS校验序列添加至K个比特位的后面发送出去。</li> <li>接收方对接收到的每一帧进行校验，若得出的余数 R = 0，则判定这个帧没有差错，就接受(accept)。若余数 R ≠ 0，则判定这个帧有差错，就丢弃。</li></ol></blockquote> <div class="custom-block tip"><p class="custom-block-title">对“模2除法”进行说明：</p> <p>“模2除法”与“算术除法”类似，但它既不向上位借位，也不比较除数和被除数的相同位数值的大小，只要以相同位数进行相除即可。模2加法运算为：1+1=0，0+1=1，0+0=0，无进位，也无借位；模2减法运算为：1-1=0，0-1=1，1-0=1，0-0=0，也无进位，无借位。相当于二进制中的逻辑异或运算。</p></div> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b7i6lijyj30h5095q3s.jpg" alt="image.png"><br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b7ictoc8j30ms085757.jpg" alt="image.png"></p> <div class="custom-block warning"><p class="custom-block-title">CRC校验的性能分析</p> <p>能够检测出所有的1bit差错。<br>
能够检测出所有的2bit差错。<br>
能够检测出所有长度=r或小于r位的错误（r标识FCS位数）。<br>
出现长度为r+1的错误，检测不出的概率是1/(2^(r-1))。<br>
出现长度大于r+1的错误时，检查不出的概率是1/(2^r)。</p></div> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3lojjvtbqj317t1gl4qp.jpg" alt="3e8fd814fcdb0e84ffce794d8aba146.png"></p> <h2 id="三、多路访问和链路协议"><a href="#三、多路访问和链路协议" class="header-anchor">#</a> 三、多路访问和链路协议</h2> <p>目的：为了协调发送和接收节点对共享信道的使用权利。</p> <h3 id="_3-1-信道划分协议"><a href="#_3-1-信道划分协议" class="header-anchor">#</a> 3.1 信道划分协议</h3> <p>信道划分协议可以分为时分多路复用（TDM）、频分多路复用（FDM）、码分多址（Code Division Multiple Access。CDMA）。信道划分协议主要是为所有在同一个共享信道上的节点划分广播信道带宽。</p> <h4 id="tdm时分复用"><a href="#tdm时分复用" class="header-anchor">#</a> TDM时分复用</h4> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b7oh6579j30k405cgn5.jpg" alt="image.png"><br>
TDM将时间划分为时间帧，并进一步划分每个时间帧的N个间隙（这里的时间帧和链路层中的帧不是一个概念，时间帧是将一段时间划分为不同的时段，称为时间帧）。</p> <div class="custom-block tip"><p class="custom-block-title">TDM性能分析</p> <p>TDM虽然消除了碰撞，且给每个节点在每个帧时间内分配了专用的传输速率R/N bps，但是它存在着主要缺陷：节点的传输速率被限制为R/N bps；节点必须在它的时隙内传输分组。对于特殊情况下，TDM的效果是很糟糕的。</p></div> <h4 id="fdm频分复用"><a href="#fdm频分复用" class="header-anchor">#</a> FDM频分复用</h4> <p>FDM将R bps的信道划分为不同的频段（每个频段具有R/N的带宽），不同的节点对应着不同的频段。如图：<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3b7pxapn7j30eg08f762.jpg" alt="image.png"><br>
FDM和TDM有着类似的弊端。</p> <h4 id="cdma-码分多址"><a href="#cdma-码分多址" class="header-anchor">#</a> CDMA，码分多址</h4> <p>码分多址协议为每个节点分配一个编码，然后发送方通过这个特殊的编码对要发送的数据进行编码，如此这些数据可以同时的在信道上进行传输且接收方能够根据这些编码准确地收到信息，抗干扰能力强。</p> <hr> <div class="custom-block tip"><p class="custom-block-title">一个比喻</p> <p>可以做下面的一个比喻：假设甲乙丙在河流的上游给下游的A、B、C运送木材。<br> <em>TDM</em>：他们三组人约定好在下面的半小时内，前十分钟由甲运送木材A接收，中间十分钟乙运送木材B接收，最后十分钟，丙运送木材C接收。</p> <hr> <p><em>FDM</em>：他们约定将河道分成三个部分，河道左边属于甲和A，中间属于乙和B，右边属于丙和C，进行木材运输。</p> <hr> <p><em>码分多址</em>：甲乙丙在运送前都在木头上写上自己的名字，这样木材可以同时在河流之中传输，A看到是甲送过来的，就接住，其他的木材就不管了，BC同理。</p></div> <h3 id="_3-2-随机接入协议"><a href="#_3-2-随机接入协议" class="header-anchor">#</a> 3.2 随机接入协议</h3> <p>在随机接入协议中，每个结点总是以全部的速率（R）发送帧，如果发生碰撞，那么就不断重发这些帧，直到这些帧无碰撞地通过为止。但是这个结点在经历碰撞之后，并不是立即重发，而是等待一个时延。</p> <h4 id="_3-2-1时隙aloha"><a href="#_3-2-1时隙aloha" class="header-anchor">#</a> 3.2.1时隙Aloha</h4> <p>时隙Aloha是随机接入协议的一种，是最简单的时隙接入协议。<br>
它规定所有帧都由L比特组成，时间被划分为L/R的时隙，也就是说每个时隙是传输一帧的时间。节点只在时隙开始的时候进行传输，并且每个节点都知道时隙是何时开始的。如果在一个时隙中有两个或者多个帧发生了碰撞，那么在所有时隙结束之前检测到该事件。</p> <p><strong>时隙Aloha的传输机理</strong>：<br>
如果某个节点需要传输一个帧，那么他将在下一个时隙开始时将这个准备好的帧传送到信道上去，这时就产生了两种情况：</p> <ol><li>这个帧在信道上没有遇到任何别的帧（即没有产生碰撞），那么这个帧就成功以R的速率全速得到传输。</li> <li>如果这个帧遇到了其他结点发出的帧，那么就发生了碰撞，因此发送节点检测到了碰撞事件，准备重新传输这一帧。但是这个结点并不会马上重传这一帧，它将“置一次硬币”，<strong>如果以p的概率掷出了硬币的正面，那么就在下个时隙的开始重新发送此帧，但是如果以1-p的概率掷到了反面，那么就等待，下一个时隙再掷一次硬币</strong>。</li></ol> <div class="custom-block tip"><p class="custom-block-title">时隙Aloha的性能分析</p> <p>时隙Aloha最大的优点是如果某个时隙只有一个节点是活跃的，那么他的帧将全速送出。但是，如果发生碰撞，就会有很多的时隙失效。时隙Aloha的效率为： <strong>当有大量节点活跃时，长期运行中成功时隙的份额</strong>。即 成功时隙/全部时隙 。<br>
N个结点任意一个传送成功的效率为：<br>
Np(1-p)^(N-1) [这也是时隙Aloha的效率]</p></div> <h4 id="_3-2-3-纯aloha"><a href="#_3-2-3-纯aloha" class="header-anchor">#</a> 3.2.3 纯Aloha</h4> <p>想发就发。思想：<strong>不监听信道，不按时间槽发送，随机重发</strong>。<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3bkay42yij30s60hnwhb.jpg" alt="image.png"><br>
冲突检测、处理 :<br>
① 出现冲突 : 如果发送时 ,<em>出现了冲突 , 数据被丢弃</em> , 或部分出错 , 发送失败 ;</p> <p>② 接收方处理 : 接收方没有收到数据 , 或收到错误数据 , 那么向发送方发送错误信息 , 或者干脆不回送确认信息 ;</p> <p>③ 发送方处理 : 如果<strong>发送方在超时时间内没有收到接收方的确认信息 , 那么就重传之前的数</strong>据 ;</p> <div class="custom-block note"><p class="custom-block-title">纯 ALOHA 协议 与 时隙 ALOHA 协议 对比 :</p> <p>① 吞吐量对比 : 纯 ALOHA 协议 比 时隙 ALOHA 协议 吞吐量低 ;</p> <p>② 发送时机对比 : 纯 ALOHA 协议 想发就发 , 时隙 ALOHA 协议 只有在时间片 开始时 , 才能发 ;</p></div> <h4 id="_3-2-4-带有碰撞检测的载波侦听多路访问-csma-cd"><a href="#_3-2-4-带有碰撞检测的载波侦听多路访问-csma-cd" class="header-anchor">#</a> 3.2.4 带有碰撞检测的载波侦听多路访问（CSMA/CD）</h4> <p>CSMA(载波监听多路访问)是在ALOHA协议上面做了更多改进并且应用于现实中MAC层截止访问控制（MAC）的协议。所谓载波监听，就是“讲前先听”。网络站点监听载波（别的用户的数据）是否存在并随之采取相应的行动。<br> <strong>载波侦听：也就是说，先听听别人有没有在说话，如果别人没有在说话，那么就说话，如果别人正在说话没那么就闭嘴</strong>。<br> <strong>碰撞检测：如果和别人同时开口说话，那么也马上闭嘴，随即等待一个时间内，过会再说</strong>。</p> <div class="custom-block tip"><p class="custom-block-title">带碰撞和不带碰撞的差别</p> <p>如果不带碰撞检测，那么虽然碰撞了仍然完整传输，造成浪费，如果带碰撞检测就可以立即停止传输。</p></div> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3bkot2e1uj30v50jn7b5.jpg" alt="image.png"><br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3bkqglcfoj30gq0hl77o.jpg" alt="image.png"></p> <p><strong>二进制指数后退算法</strong></p> <hr> <p>以太网使用截断二进制指数退避算法来确定碰撞后重传的时机。<strong>这种算法让发生碰撞的站在停止发送数据后，不是等待信道变为空闲后立即再发送数据，而是退避一个随机的时间</strong>。一以减小再次发生碰撞的概率。具体算法如下：</p> <ol><li>协议规定了基本退避时间为2t，具体的争用期时间通常取51.2us,对于10Mb/s的以太网，在争用期内可发送512bit，即64字节。</li> <li>从离散的整数集合【0，1，……（2^k-1）】中随机取一个数，记为r，重传应推后的时间就是r倍的争用期。</li> <li>当重传次数不超过10时，参数k等于重传次数；当重传次数超过10时，k就不再增大一直等于10。</li> <li>当重传16次仍然不能成功时（这表明同时打算发送数据的站太多，以致连续发生冲突），则丢弃该帧，并向高层报告（例如上图）。</li></ol> <div class="custom-block tip"><p class="custom-block-title">CSMA/CD效率</p> <p>d1表示信号在任意两个适配器之间传播的最大时间，d2表示传输一个最大长度的以太帧的时间。则效率：<br>
1/（1+5*d1/d2）</p></div> <h3 id="_3-3-轮流协议"><a href="#_3-3-轮流协议" class="header-anchor">#</a> 3.3 轮流协议</h3> <p><strong>轮询协议</strong>（polling protocol）让某个节点成为主节点，主节点以循环的方式轮询每个节点，主节点会发送报文给每一个节点，告诉他它能够发送的最大的帧数，在某节点传输一些帧后，主节点会告诉下一个结点能够传输的最大帧数。<strong>这个协议消除了困扰随机接入协议的碰撞和空时隙</strong>。</p> <hr> <p><strong>令牌传递协议</strong>（token-passing protocol）。有一个令牌在结点之间互相传递，当某节点需要发送帧时，它拥有令牌即可发送，如果他不需要发送时，立即将令牌传送给下一个结点。令牌是分散的，效率很高，但是当某一结点产生问题可能导致整个信道的崩溃。</p> <h2 id="四、交换局域网"><a href="#四、交换局域网" class="header-anchor">#</a> 四、交换局域网</h2> <p>下图是交换局域网的一个示例：<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c4ahlyafj30eh09k40v.jpg" alt="image.png"></p> <h3 id="_4-1-链路层寻址和arp-地址解析协议"><a href="#_4-1-链路层寻址和arp-地址解析协议" class="header-anchor">#</a> 4.1 链路层寻址和ARP（地址解析协议）</h3> <h4 id="_4-1-1-mac地址"><a href="#_4-1-1-mac地址" class="header-anchor">#</a> 4.1.1 MAC地址</h4> <p>主机或者路由器的适配器（网络接口）有链路层地址。链路层地址也称LAN地址、物理地址、MAC地址。</p> <div class="custom-block note"><p class="custom-block-title">MAC地址的格式</p> <p>MAC地址有48位（6字节），前三字节（高位24位）<strong>由IEEE的注册管理机构RA向厂家分配</strong>，后三字节（低24位）<strong>由厂家自行指派</strong>，<em>必须保证生产出的适配器没有重复地址</em>。这种48位地址称为MAC-48。MAC地址不可更改，但是可以更改通信时的MAC地址，也相当于“更改”了MAC地址。<br>
MAC地址具有扁平结构，IP地址是分层的。就像人一样，可以将IP地址比作人的家庭住址，那么MAC地址就是身份证号，当人搬家时，家庭住址会发生改变，但是身份证号不会发生改变。</p></div> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c4k567vjj30nq0b40wo.jpg" alt="image.png"><br>
当某个适配器要向其他适配器发送某些帧时，发送适配器会将接收适配器的MAC地址插入这些帧中，并将这些帧广播到局域网上，<strong>当某个适配器接收到这个帧时，对比这个帧内的MAC地址是不是自己的MAC地址，如果是，则解封装这个帧</strong>，并向上层传递，如果不是，那么久丢弃这个帧。我们注意到，适配器实际上是能够接收到寻址地址不是它的帧。<br>
有时候适配器需要局域网内所有适配器都接收并处理某些帧，那么他就会规定一个<strong>广播地址</strong>。广播地址一般是48个1组成的字符串，换算成十六进制是“ffffffffffff”。</p> <h4 id="_4-1-2-地址解析协议"><a href="#_4-1-2-地址解析协议" class="header-anchor">#</a> 4.1.2 地址解析协议</h4> <p>作用：将网络层地址（IP）与链路层地址（MAC）之间进行转换。<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c4wzs65pj30an06gq40.jpg" alt="image.png"><br>
假设IP地址为222.222.222.220的主机要向222.222.222.222的主机发送IP数据，在上图中，他们位于同一个子网中。为了发送数据报，该源必须要向它的适配器提供IP数据报和目的主机222.222.222.222的<strong>MAC地址</strong>。然后发送适配器将构造一个包含目的地MAC地址的链路层帧，并把该帧发送进局域网。<br> <strong>那么发送端是怎么确定接收端的MAC地址的呢</strong>？实际上，它使用了ARP，发送端将222.222.222.222的IP地址作为参数送入ARP中，它将返回一个对应的MAC地址49-BD-D2-C7-56-2A。<br>
但是<strong>值得注意的是</strong>，ARP只为在同一个子网上的IP提供地址解析服务，如果发送端的IP地址和接收端的IP地址不在同一个子网中（例如使用北京海淀的节点去查询浙江绍兴的一个节点），那么ARP将返回一个错误。</p> <div class="custom-block tip"><p class="custom-block-title">ARP和DNS的对比</p> <p>DNS<strong>为因特网中任何地方的主机解析主机名</strong>，而ARP<strong>只为在同一个子网上的主机和路由器接口解析IP地址</strong>。如果一个节点试图用ARP为另一个子网中的节点解析MAC地址，那么ARP将返回一个错误。</p></div> <hr> <p><strong>ARP是如何工作的</strong><br>
每台主机或路由器在内存中存有一个ARP表，该表用于解析IP地址与MAC地址之间的映射关系。这个ARP表也包含一个寿命值（TTL），它指出从表中删除每个映射的时间。<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c5e9bl50j30fg03d753.jpg" alt="image.png"><br>
但是<strong>如果主机上没有存这个IP的地址呢</strong>？那么它将<strong>构造一个ARP分组</strong>，这个分组包含了发送和接收IP地址和MAC地址，ARP查询分组和响应分组有相同的格式，<strong>这个分组将询问子网上所有的主机和路由器</strong>（使用<strong>广播</strong>的方式FFFFFFFFFFFF），以确定找出要解析的IP分组的MAC地址。一次ARP查询等价于一个人在教室里面大喊：“家住清华东路35号的那个人的身份证号是多少？！”。</p> <h4 id="_4-1-3-发送数据报到子网之外"><a href="#_4-1-3-发送数据报到子网之外" class="header-anchor">#</a> 4.1.3 发送数据报到子网之外</h4> <p>现在考虑当子网中的某主机要向子网之外（也就是跨越路由器的另一个子网）的主机发送网络层数据报，如下图所示，显示了一个由一台路由器互联两个子网所组成的简单网络：<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c5ox3o4aj30fl049jsg.jpg" alt="image.png"><br>
在上图中需要注意几点：每台主机仅有一个IP地址和一个适配器，一台路由器对它的每个接口都有一个IP地址。对路由器的每个接口，（在路由器中）也有一个ARP模块和一个适配器。上图的路由器有两个接口，所以它有两个IP地址，两个ARP模块和两个适配器，当然，网络中的每个适配器都有自己的MAC地址。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>我们定义子网1的网络地址为111.111.111/24，子网2的网络地址为222.222.222/24。假如子网1上的一台主机将向子网2上的一台主机发送数据报。特别是，假设主机111.111.111.111要向主机222.222.222.222发送一个IP数据报。和往常一样，<strong>发送主机向它的适配器传递数据报</strong>。但是，<strong>发送主机还必须向它的适配器指示一个适当的目的MAC地址</strong>。仔细观察上图，我们可以发现，为了使一个数据报从111.111.111.111到子网2上的主机，<strong>这个数据报必须首先发送给路由器接口111.11.111.110</strong>，它是通往最终目的路径上的第一跳路由器的IP地址。因此，对于该帧来说，适当的MAC地址是路由器接口111.111.111.110的适配器地址，即E6-E9-00-17-BB-4B。<strong>发送主机通过ARP获取111.111.111.110的MAC地址</strong>。一旦发送适配器有了这个MAC地址，它创建一个帧（包含了寻址到222.222.222.222的数据报），并把该帧发送到子网1中。在子网1上的路由器适配器看到该链路层帧是向它寻址的，因此把这个帧传递给路由器的网络层。路由器现在必须决定该数据报要被转发的正确接口。<strong>这是通过查询路由器中的转发表来完成的</strong>。转发表告诉这台路由器该数据报要通过路由器接口222.222.222.220转发。然后该接口把这个数据报传递给它的适配器，适配器把该数据报封装到一个新的帧中，并且将帧发送进子网2中。这时，该帧的目的MAC地址确实是最终目的地MAC地址。路由器接下来通过ARP获取这个MAC地址。</p></div> <h3 id="_4-2-以太网"><a href="#_4-2-以太网" class="header-anchor">#</a> 4.2 以太网</h3> <p>以太网帧结构如下所示：<br> <img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c5t71td0j30e002wdgb.jpg" alt="image.png"><br>
考虑从一台主机向另一台主机发送一个IP数据报，且这两台主机在相同的以太局域网上。设发送适配器（即适配器A）的MAC地址是AA-AA-AA-AA-AA-AA，接收适配器（即适配器B）的MAC地址是BB-BB-BB-BB-BB-BB。发送适配器在一个以太网帧中封装了一个IP数据报，并把该帧传递到物理层。接收适配器从物理层收到这个帧，提取出IP数据报，并将该IP数据报传递给网络层。在这个场景下，我们解释下上图所示的以<strong>太网帧</strong>的6个字段：</p> <blockquote><p><strong>数据字段</strong>（46-1500字节）： 这个字段承载了IP数据报。以太网的最大传输单元（MTU）是1500字节。这意味着如果IP数据报超过了1500字节，则主机必须将该数据报分片。数据字段的最小长度是46字节。这意味着如果IP数据报小于46字节，数据报必须被填充到46字节。当采用填充时，传递到网络层的数据报括IP数据报和填充部分。网络层使用IP数据报首部中的长度字段来去除填充部分。<br> <strong>目的地址</strong>（6字节）： 这个字段包含了传该帧到局域网上的适配器的MAC地址，在本例中为AA-AA-AA-AA-AA-AA。<br> <strong>类型字段</strong>（2字节）： 类型字段允许以太网复用多种网络层协议。为了理解这点，我们需要记住主机能够使用除了IP以外的其他网络层协议。事实上，一台给定的主机可以支持多种网络层协议，以对不同的应用采用不同的协议。因此，当以太网帧到达适配器B，适配器B需要知道它应该将数据字段的内容传递给哪个网络层协议（即分解）。IP和其他链路层协议都有它们各自的、标准化的类型编号。此外，ARP协议有自己的类型编号，并且如果到达的帧包含ARP分组（即类型字段的值为十六进制的0806），则该ARP分组将被多路分解给ARP协议。注意类型字段和网络层数据报中的协议字段、运输层报文段的端口号字段相类似；所有这些字段都是为了把上一层中的某协议与上一层的某协议结合起来。<br> <strong>CRC</strong>（4字节）： CRC（循环冗余检测）字段的目的是使得接收适配器（适配器B）检测帧中是否引入了差错。<br> <strong>前同步码</strong>（8字节）： 以太网帧以一个8字节的前同步码字段开始。该前同步码的前7字节的值都是10101010；最后一个字节是10101011。前同步码字段的前7字节用于“唤醒”接收适配器，并且将它们的时钟和发送方的时钟同步。为什么这些时钟会不同步呢？记住适配器A的目的是根据以太局域网类型的不同，分别以10Mbps、100Mbps或者1Gbps的速率传输帧。但是适配器A不会以精确的额定速率传输帧；相对于额定速率总有一些漂移，局域网上的其他适配器不会预先知道这种漂移。接收适配器只需通过锁定前同步码的前7字节的比特，就能够锁定适配器A的时钟。前同步码的第8个字节的最后两个比特（第一个出现的是两个连续的1）警告适配器B：“重要的内容”就要到来了。</p></blockquote> <p>所有的以太网技术都向网络层提供<strong>无连接服务</strong>。以太网技术都向网络层<strong>提供不可靠服务</strong>。特别是，当适配器B收到一个来自适配器A的帧，它对该帧执行CRC校验，但是当该帧通过CRC校验时它不发送确认帧，而当该帧没有通过CRC校验时它也不发送确认帧。当某帧没有通过CRC校验，适配器B只是丢弃该帧。因此，<em>适配器A根本不知道它传输的帧是否到达了B并通过了CRC校验</em>。</p> <div class="custom-block tip"><p class="custom-block-title">以太网最大帧和最小帧</p> <p>据RFC894的说明，以太网封装IP数据包的最大长度是1500字节，也就是说以太网最大帧长应该是以太网首部加上1500，再加上7字节的前导同步码和1字节的帧开始定界符，具体就是：7字节前导同步吗＋1字节帧开始定界符＋6字节的目的MAC＋6字节的源MAC＋2字节的帧类型＋1500＋4字节的FCS。</p> <p>按照上述，<strong>最大帧应该是1526字节，但是实际上我们抓包得到的最大帧是1514字节</strong>，为什么不是1526字节呢？ 原因是当数据帧到达网卡时，在物理层上网卡要先去掉前导同步码和帧开始定界符，然后对帧进行CRC检验，如果帧校验和错，就丢弃此帧。如果校验和正确，就判断帧的目的硬件地址是否符合自己的接收条件（目的地址是自己的物理硬件地址、广播地址、可接收的多播硬件地址等），如果符合，就将帧交“设备驱动程序”做进一步处理。这时我们的抓包软件才能抓到数据， 因此，抓包软件抓到的是<strong>去掉前导同步码、帧开始分界符、FCS之外的数据</strong>，其最大值是6＋6＋2＋1500＝1514。</p> <p>以太网规定，<strong>以太网帧数据域部分最小为46字节</strong>，也就是以太网帧最小是6＋6＋2＋46＋4＝64。除去4个字节的FCS，因此，抓包时就是60字节。当数据字段的长度小于46字节时，MAC子层就会在数据字段的后面填充以满足数据帧长不小于64字节。由于填充数据是由MAC子层负责，也就是设备驱动程序。</p></div> <h3 id="_4-3-链路层交换机"><a href="#_4-3-链路层交换机" class="header-anchor">#</a> 4.3 链路层交换机</h3> <p><strong>交换机的任务是接收入链路层帧并将它们转发到出链路</strong>，它自身对子网中的主机和路由器是透明的。这就是说，某主机/路由器向另一个主机/路由器寻址一个帧（而不是向交换机寻址该帧），顺利地将该帧发送进局域网，并不知道某交换机将会接收该帧并将它转发到另一个结点。这些帧到达该交换机的任何输出接口之一的速率可能暂时会超过该接口的链路容量。为了解决这个问题，交换机输出接口设有缓存，这非常类似于路由器接口为数据报设有缓存，接下来考察下交换机运行的原理。</p> <h4 id="_4-3-1-交换机转发和过滤"><a href="#_4-3-1-交换机转发和过滤" class="header-anchor">#</a> 4.3.1 交换机转发和过滤</h4> <p>过滤是<strong>决定一个帧应该转发到某个接口还是应当将其丢弃的交换机功能</strong>。转发是决定一个帧应该被导向哪个接口，并把该帧移动到那些接口的交换机功能。交换机的过滤和转发借助于交换机表完成。该交换机表包含某局域网上某些主机和路由器的表项。交换机表中的一个表项包括：</p> <blockquote><ol><li>一个MAC地址</li> <li>通向该MAC地址的交换机接口</li> <li>表项放置在表中的时间</li></ol></blockquote> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3c65xsxu3j30en0303z4.jpg" alt="image.png"></p> <p>帧的转发和数据转发之间有相似点，但它们之间的差距也是很大的，例如交换机转发分组基于MAC地址而不是基于IP地址，交换机表与路由器的转发表的构造方式也有很大差别。</p> <p>为了理解交换机过滤和转发的工作过程，假定目的地址为DD-DD-DD-DD-DD-DD的帧从交换机接口x到达，交换机用MAC地址DD-DD-DD-DD-DD-DD索引它的表。有三种可能的情况：</p> <ol><li>表中没有对于DD-DD-DD-DD-DD-DD的表项。在这种情况下，交换机向除接口x外的所有接口前面的输出缓存转发该帧的副本。换言之，如果没有对于目的地址的表项，交换机广播该帧。</li> <li>表中有一个表项将DD-DD-DD-DD-DD-DD与接口x联系起来。在这种情况下，该帧从包括适配器DD-DD-DD-DD-DD-DD的局域网网段到来。无需将该帧转发到任何其他接口，交换机通过丢弃该帧执行过滤功能即可。</li> <li>表中有一个表项将DD-DD-DD-DD-DD-DD与接口y!=x联系起来。在这种情况下，该帧需要被转发到与接口y相连的局域网段。交换机通过将该帧放到接口y前面的输出缓存完成转发功能。</li></ol> <h2 id="五、wifi"><a href="#五、wifi" class="header-anchor">#</a> 五、WIFI</h2> <p>WIFI属于数据链路层和物理层。<strong>Wi-Fi是基于IEEE 802.11标准的WLAN</strong>。WLAN（Wireless Local Area Network，无线局域网）有许多标准协议，如IEEE 802.11协议族、HiperLAN协议族等。</p> <h3 id="_5-1-频段、信道、带宽"><a href="#_5-1-频段、信道、带宽" class="header-anchor">#</a> 5.1 频段、信道、带宽</h3> <p>【工作频段】将频率划分成多段，如2.4GHz频段（2.412GHz-2.484GHz）<br>
【无线信道】<strong>将频段划分成多个信道</strong>，信道是用于传输无线电波信号的通道，<strong>一个信道在同一时间内只有一台设备能发送信号</strong>。<br>
【信道带宽】模拟信道的带宽W=f2-f1，<strong>f2信道能通过的最高频率，f1为信道能通过的最低频率</strong>。带宽越大，数据传输速率越大。</p> <h3 id="_5-2-ieee-802-11常见的技术标准"><a href="#_5-2-ieee-802-11常见的技术标准" class="header-anchor">#</a> 5.2 IEEE 802.11常见的技术标准</h3> <p><img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3duif4fbaj30p60e7jwp.jpg" alt="image.png"></p> <h3 id="_5-3-csma-ca碰撞避免"><a href="#_5-3-csma-ca碰撞避免" class="header-anchor">#</a> 5.3 CSMA/CA碰撞避免</h3> <p>在以太网中CSMA-CD协议可以通过线缆的电压变化完成<strong>全面的碰撞检测</strong>，但是在无线局域网CSMA-CD<strong>无法</strong>做到360°全面检测碰撞。<strong>当A和C都检测不到信号，认为信道空闲时， 同时向终端B发送数据帧，就会导致冲突</strong>.（设A在B的电磁波范围，C在B电磁波范围内，而A不在C电磁波范围，此时AB可以相互传输数据，BC可以相互传输数据）
<img src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h3dulyq2rij311m0br76g.jpg" alt="image.png"><br>
若此时C正在与B通信发送数据，而A无法知道BC在通信；若直接发送可能会导致冲突。即 C是A的隐蔽站,因此需要<strong>碰撞避免协议</strong>。</p> <div class="custom-block tip"><p class="custom-block-title">CSMA/CA碰撞避免的原理</p> <p>发送数据前，先检测信道是否空闲。</p> <blockquote><p><strong>空闲则发出RTS</strong> (request to send)，RTS<em>包括发射端的地址、接收端的地址、下一份数据将持续发送的时间等信息</em><br>
信道忙则等待</p></blockquote> <p><strong>接收端收到RTS后，将响应CTS (clear to send)</strong>。</p> <p><strong>发送端收到CTS后，开始发送数据帧</strong>(同时预约信道:发送方告知其他站点自己要传多久数据)。</p> <p><strong>接收端收到数据帧后，将用CRC来检验数据是否正确，正确则响应ACK帧</strong>。</p> <p><strong>发送方收到ACK就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止</strong>(采用<em>二进制指数退避算法</em>来确定随机的推迟时间)。</p></div> <p>总结一下就是三个手段避免冲突:<br>
1.预约信道<br>
2.ACK帧<br>
3.RTS/CTS帧(可选)（主要是为了解决隐蔽站问题）</p> <div class="custom-block note"><p class="custom-block-title">CSMA/CA和CSMA/CD的异同</p> <p><strong>相同点</strong>:<br>
CSMA/CD与CSMA/CA机制都从属于CSMA的思路，其核心是先听再说。换言之，两个在接入信道之前都须要进行监听。当发现信道空闲后，才能进行接入。<br> <strong>不同点</strong>:</p> <ol><li><p>传输介质不同: CSMA/CD 用于<strong>总线式以太网</strong>[有线]，而CSMA/CA用于<strong>无线局域网</strong>[无线]。</p></li> <li><p>载波检测方式不同:因传输介质不同，CSMA/CD 与CSMA/CA的检测方式也不同。CSMA/CD<strong>通过电缆中电压的变化来检测，当数据发生碰撞时，电缆中的电压就会随着发生变化</strong>;<strong>而CSMA/CA采用 能量检测(ED)、载波检测(CS)和能量载波混合检测三种检测信道空闲的方式</strong>。</p></li> <li><p>CSMA/CD检测冲突，CSMA/CA避免冲突，二者出现冲突后都会进行有上限的重传。</p></li></ol></div> <p><strong>CSMA/CD超有礼貌！讲之前不仅要听，在自己说话前还要先等一下</strong><br>
来自<a href="https://www.jianshu.com/p/852ad221cf44" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/inannan423/inannan423.github.io/edit/main/docs/技术文档/03.计算机网络/10.数据链路层-以太网.md" target="_blank" rel="noopener noreferrer">Edit it</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E8%AE%A1%E7%BD%91" title="标签">#计网</a><a href="/tags/?tag=%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86" title="标签">#计算机基础知识</a></div> <div class="last-updated"><span class="prefix">Last updated :</span> <span class="time">2022/09/21, 07:23:03</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/116a3a/" class="prev">网络层</a></span> <span class="next"><a href="/pages/116k6a/">物理层</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/@pages/about.html"><div>
            
            <!----></div></a> <span class="date"></span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/719b0c/"><div>
            Easyx图形界面构建
            <!----></div></a> <span class="date">07-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/719b0t/"><div>
            Driver Test
            <!----></div></a> <span class="date">07-05</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:605031236@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/inannan423" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.npmjs.com/" title="NPM" target="_blank" class="iconfont icon-npm"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span><br><img style="margin:0 auto;height:50px;" src="/img/minilogo.png"/><br>飞行编码喷气机 | Made with ❤ by Chengzihan.<br>MIT LICENSE | Build with <a href="https://vuepress.vuejs.org/zh/">vuepress<a>.<br>Powered by <a href="https://www.netlify.com/">Netlify</a>.</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div></div><div></div></div></div>
    <script src="/assets/js/app.5066a133.js" defer></script><script src="/assets/js/2.ae42d6f2.js" defer></script><script src="/assets/js/62.1b5ae952.js" defer></script><script src="/assets/js/10.eb81c37d.js" defer></script>
  </body>
</html>
